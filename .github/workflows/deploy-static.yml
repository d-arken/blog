  on:
    push:
      branches:
        - main
  permissions:
    id-token: write
  jobs:
    build:
      name: "Build new release"
      runs-on: "ubuntu-latest"
      steps:
        - uses: actions/checkout@v4
        - uses: actions/setup-node@v4
          with:
            node-version: '20'
        - run: npm install
        - run: npm run build
        - uses: 'google-github-actions/auth@v2'
          with:
            project_id: 'darkmdev-blog'
            workload_identity_provider: 'projects/242066346830/locations/global/workloadIdentityPools/darkm-pool/providers/github'